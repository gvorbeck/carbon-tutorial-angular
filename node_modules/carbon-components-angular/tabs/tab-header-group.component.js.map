{"version":3,"file":"tab-header-group.component.js","sourceRoot":"","sources":["../src/tabs/tab-header-group.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tComponent,\n\tQueryList,\n\tInput,\n\tHostListener,\n\tContentChildren,\n\tOnDestroy,\n\tAfterContentInit,\n\tElementRef,\n\tTemplateRef,\n\tOnChanges,\n\tSimpleChanges\n} from \"@angular/core\";\n\nimport { TabHeader } from \"./tab-header.component\";\nimport { Subscription } from \"rxjs\";\n\n@Component({\n\tselector: \"ibm-tab-header-group\",\n\ttemplate: `\n\t<nav\n\t\tclass=\"bx--tabs\"\n\t\t[ngClass]=\"{\n\t\t\t'bx--skeleton': skeleton,\n\t\t\t'bx--tabs--container': type === 'container'\n\t\t}\"\n\t\trole=\"navigation\"\n\t\t[attr.aria-label]=\"ariaLabel\"\n\t\t[attr.aria-labelledby]=\"ariaLabelledby\">\n\t\t<div\n\t\t\tclass=\"bx--tabs-trigger\"\n\t\t\ttabindex=\"0\"\n\t\t\t(click)=\"showTabList()\"\n\t\t\t(keydown)=\"onDropdownKeydown($event)\">\n\t\t\t<a\n\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\tclass=\"bx--tabs-trigger-text\"\n\t\t\t\ttabindex=\"-1\">\n\t\t\t\t<ng-container *ngIf=\"!getSelectedTab().headingIsTemplate\">\n\t\t\t\t\t{{ getSelectedTab().heading }}\n\t\t\t\t</ng-container>\n\t\t\t\t<ng-template\n\t\t\t\t\t*ngIf=\"getSelectedTab().headingIsTemplate\"\n\t\t\t\t\t[ngTemplateOutlet]=\"getSelectedTab().heading\"\n\t\t\t\t\t[ngTemplateOutletContext]=\"{$implicit: getSelectedTab().context}\">\n\t\t\t\t</ng-template>\n\t\t\t</a>\n\t\t\t<svg width=\"10\" height=\"5\" viewBox=\"0 0 10 5\">\n\t\t\t\t<path d=\"M0 0l5 4.998L10 0z\" fill-rule=\"evenodd\"></path>\n\t\t\t</svg>\n\t\t</div>\n\t\t<ul\n\t\t\t#tabList\n\t\t\t[ngClass]=\"{\n\t\t\t\t'bx--tabs__nav--hidden': !tabListVisible\n\t\t\t}\"\n\t\t\t(keydown)=\"tabDropdownKeydown($event)\"\n\t\t\tclass=\"bx--tabs__nav\"\n\t\t\trole=\"tablist\">\n\t\t\t<li role=\"presentation\">\n\t\t\t\t<ng-container *ngIf=\"contentBefore\" [ngTemplateOutlet]=\"contentBefore\"></ng-container>\n\t\t\t</li>\n\t\t\t<ng-content></ng-content>\n\t\t\t<li role=\"presentation\">\n\t\t\t\t<ng-container *ngIf=\"contentAfter\" [ngTemplateOutlet]=\"contentAfter\"></ng-container>\n\t\t\t</li>\n\t\t</ul>\n\t</nav>\n\t`\n})\nexport class TabHeaderGroup implements AfterContentInit, OnDestroy, OnChanges {\n\t/**\n\t * Set to 'true' to have tabs automatically activated and have their content displayed when they receive focus.\n\t */\n\t@Input() followFocus: boolean;\n\t/**\n\t * Set to `true` to put tabs in a loading state.\n\t */\n\t@Input() skeleton = false;\n\t/**\n\t * Sets the aria label on the nav element.\n\t */\n\t@Input() ariaLabel: string;\n\t/**\n\t * Sets the aria labelledby on the nav element.\n\t */\n\t@Input() ariaLabelledby: string;\n\n\t@Input() contentAfter: TemplateRef<any>;\n\n\t@Input() contentBefore: TemplateRef<any>;\n\n\t/**\n\t * Set to 'true' to have all pane references associated with each tab header\n\t * in the tab header group cached and not reloaded on tab switching.\n\t */\n\t@Input() cacheActive = false;\n\n\t@Input() type: \"default\" | \"container\" = \"default\";\n\n\t/**\n\t * ContentChildren of all the tabHeaders.\n\t */\n\t@ContentChildren(TabHeader) tabHeaderQuery: QueryList<TabHeader>;\n\t/**\n\t * Keeps track of all the subscriptions to the tab header selection events.\n\t */\n\tselectedSubscriptionTracker = new Subscription();\n\n\tpublic tabListVisible = false;\n\t/**\n\t * Controls the manual focusing done by tabbing through headings.\n\t */\n\tpublic currentSelectedIndex = 0;\n\n\tprivate _cacheActive = false;\n\n\tconstructor(protected elementRef: ElementRef) {}\n\n\t// keyboard accessibility\n\t/**\n\t * Controls the keydown events used for tabbing through the headings.\n\t */\n\t@HostListener(\"keydown\", [\"$event\"])\n\tkeyboardInput(event) {\n\t\tlet tabHeadersArray = Array.from<any>(this.tabHeaderQuery);\n\n\t\tif (event.key === \"Right\" || event.key === \"ArrowRight\") {\n\t\t\tif (this.currentSelectedIndex < tabHeadersArray.length - 1) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.followFocus && !tabHeadersArray[this.currentSelectedIndex + 1].disabled) {\n\t\t\t\t\ttabHeadersArray[this.currentSelectedIndex + 1].selectTab();\n\t\t\t\t} else {\n\t\t\t\t\ttabHeadersArray[this.currentSelectedIndex + 1].tabItem.nativeElement.focus();\n\t\t\t\t\tthis.currentSelectedIndex++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.followFocus && !tabHeadersArray[0].disabled) {\n\t\t\t\t\ttabHeadersArray[0].selectTab();\n\t\t\t\t} else {\n\t\t\t\t\ttabHeadersArray[0].tabItem.nativeElement.focus();\n\t\t\t\t\tthis.currentSelectedIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (event.key === \"Left\" || event.key === \"ArrowLeft\") {\n\t\t\tif (this.currentSelectedIndex > 0) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.followFocus && !tabHeadersArray[this.currentSelectedIndex - 1].disabled) {\n\t\t\t\t\ttabHeadersArray[this.currentSelectedIndex - 1].selectTab();\n\t\t\t\t} else {\n\t\t\t\t\ttabHeadersArray[this.currentSelectedIndex - 1].tabItem.nativeElement.focus();\n\t\t\t\t\tthis.currentSelectedIndex--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.followFocus && !tabHeadersArray[tabHeadersArray.length - 1].disabled) {\n\t\t\t\t\ttabHeadersArray[tabHeadersArray.length - 1].selectTab();\n\t\t\t\t} else {\n\t\t\t\t\ttabHeadersArray[tabHeadersArray.length - 1].tabItem.nativeElement.focus();\n\t\t\t\t\tthis.currentSelectedIndex = tabHeadersArray.length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (event.key === \"Home\") {\n\t\t\tevent.preventDefault();\n\t\t\tif (this.followFocus && !tabHeadersArray[0].disabled) {\n\t\t\t\ttabHeadersArray[0].selectTab();\n\t\t\t} else {\n\t\t\t\ttabHeadersArray[0].tabItem.nativeElement.focus();\n\t\t\t\tthis.currentSelectedIndex = 0;\n\t\t\t}\n\t\t}\n\n\t\tif (event.key === \"End\") {\n\t\t\tevent.preventDefault();\n\t\t\tif (this.followFocus && !tabHeadersArray[tabHeadersArray.length - 1].disabled) {\n\t\t\t\ttabHeadersArray[tabHeadersArray.length - 1].selectTab();\n\t\t\t} else {\n\t\t\t\ttabHeadersArray[tabHeadersArray.length - 1].tabItem.nativeElement.focus();\n\t\t\t\tthis.currentSelectedIndex = tabHeadersArray.length - 1;\n\t\t\t}\n\t\t}\n\n\t\t// `\"Spacebar\"` is IE11 specific value\n\t\tif ((event.key === \" \" || event.key === \"Spacebar\") && !this.followFocus) {\n\t\t\ttabHeadersArray[this.currentSelectedIndex].selectTab();\n\t\t}\n\n\t\t// dropdown list handler\n\t\tif (event.key === \"Escape\") {\n\t\t\tthis.tabListVisible = false;\n\t\t}\n\t}\n\n\t@HostListener(\"focusout\", [\"$event\"])\n\tfocusOut(event) {\n\t\tif (this.tabListVisible && !this.elementRef.nativeElement.contains(event.relatedTarget)) {\n\t\t\tthis.tabListVisible = false;\n\t\t}\n\t}\n\n\tngAfterContentInit() {\n\t\tthis.selectedSubscriptionTracker.unsubscribe();\n\n\t\tif (this.tabHeaderQuery) {\n\t\t\tthis.tabHeaderQuery.toArray().forEach(tabHeader => tabHeader.cacheActive = this.cacheActive);\n\t\t}\n\n\t\tconst selectedSubscriptions = this.tabHeaderQuery.toArray().forEach(tabHeader => {\n\t\t\ttabHeader.selected.subscribe(() => {\n\t\t\t\tthis.currentSelectedIndex = this.tabHeaderQuery.toArray().indexOf(tabHeader);\n\t\t\t\t// The Filter takes the current selected tab out, then all other headers are\n\t\t\t\t// deactivated and their associated pane references are also deactivated.\n\t\t\t\tthis.tabHeaderQuery.toArray().filter(header => header !== tabHeader)\n\t\t\t\t\t.forEach(filteredHeader => {\n\t\t\t\t\t\tfilteredHeader.active = false;\n\t\t\t\t\t\tif (filteredHeader.paneReference) {\n\t\t\t\t\t\t\tfilteredHeader.paneReference.active = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\tthis.selectedSubscriptionTracker.add(selectedSubscriptions);\n\n\t\tsetTimeout(() => this.tabHeaderQuery.toArray()[this.currentSelectedIndex].selectTab());\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (this.tabHeaderQuery && changes.cacheActive) {\n\t\t\tthis.tabHeaderQuery.toArray().forEach(tabHeader => tabHeader.cacheActive = this.cacheActive);\n\t\t}\n\t}\n\n\tpublic getSelectedTab(): any {\n\t\tconst selected =  this.tabHeaderQuery.toArray()[this.currentSelectedIndex];\n\t\tif (selected) {\n\t\t\treturn selected;\n\t\t}\n\t\treturn {\n\t\t\theadingIsTemplate: false,\n\t\t\theading: \"\"\n\t\t};\n\t}\n\n\tpublic showTabList() {\n\t\tthis.tabListVisible = true;\n\t\tconst focusTarget = this.tabHeaderQuery.toArray().find(tab => {\n\t\t\tconst tabContainer = tab.tabItem.nativeElement.parentElement;\n\t\t\treturn !tabContainer.classList.contains(\"bx--tabs__nav-item--selected\");\n\t\t});\n\t\tfocusTarget.tabItem.nativeElement.focus();\n\t}\n\n\tpublic onDropdownKeydown(event: KeyboardEvent) {\n\t\tswitch (event.key) {\n\t\t\tcase \" \":\n\t\t\tcase \"Spacebar\":\n\t\t\tcase \"Enter\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.showTabList();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic tabDropdownKeydown(event: KeyboardEvent) {\n\t\tif (!this.tabListVisible) { return; }\n\n\t\tconst target = (event.target as HTMLElement).closest(\"a\");\n\n\t\tconst headers = this.tabHeaderQuery.toArray().filter(tab =>\n\t\t\t!tab.tabItem.nativeElement.parentElement.classList.contains(\"bx--tabs__nav-item--disabled\") &&\n\t\t\t!tab.tabItem.nativeElement.parentElement.classList.contains(\"bx--tabs__nav-item--selected\"));\n\n\t\t// unless focus can move, it should remain on the target\n\t\tlet next: HTMLElement = target;\n\t\tlet previous: HTMLElement = target;\n\n\t\tfor (let i = 0; i < headers.length; i++) {\n\t\t\tif (headers[i].tabItem.nativeElement === target) {\n\t\t\t\tif (i + 1 < headers.length) {\n\t\t\t\t\tnext = headers[i + 1].tabItem.nativeElement;\n\t\t\t\t}\n\t\t\t\tif (i - 1 >= 0) {\n\t\t\t\t\tprevious = headers[i - 1].tabItem.nativeElement;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\tcase \"Down\": // IE11 specific value\n\t\t\t\tnext.focus();\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\tcase \"Up\": // IE11 specific value\n\t\t\t\tprevious.focus();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.selectedSubscriptionTracker.unsubscribe();\n\t}\n}\n"]}